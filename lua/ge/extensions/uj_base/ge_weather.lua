local a={}local b={}local c,d;local function e(f)if b[f]then return scenetree.findObjectById(b[f])end;b[f]=0;local g=scenetree.findClassObjects(f)if g and tableSize(g)>0 then local h=scenetree.findObject(g[1])if h then b[f]=h:getID()return scenetree.findObject(g[1])end end;return nil end;local function i(j)local k=e("Precipitation")if k and j then k.numDrops=j end end;local function l()if c.weathersync.enabled then local m=c.weathersync.cloudCover/100*2.5;core_environment.setCloudCover(m)local n=c.weathersync.fogDensity/10000;core_environment.setFogDensity(n)local j=c.weathersync.rainDrops*10;i(j)core_environment.setWindSpeed(c.weathersync.windSpeed)core_environment.setGravity(c.weathersync.gravity)end end;local function o()c=rerequire("settings/config")d=core_environment.getState()l()end;local function p()core_environment.requestState(d)i(0)end;a.onExtensionLoaded=o;a.onExtensionUnloaded=p;return a
